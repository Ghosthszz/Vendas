<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Busca de Usuário</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
            text-align: center;
        }

        h1 {
            margin-bottom: 20px;
            color: #007bff;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #555;
        }

        input[type="text"] {
            width: calc(100% - 22px);
            padding: 10px;
            font-size: 16px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        button {
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            border: none;
            cursor: pointer;
            font-size: 16px;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #0056b3;
        }

        .result {
            margin-top: 20px;
            text-align: left;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            background-color: #f8f9fa;
        }

        .result-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .user-details {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            background-color: #f8f9fa;
        }

        .user-details p {
            margin: 5px 0;
        }

        .user-links {
            list-style-type: none;
            padding: 0;
        }

        .user-links li {
            margin-bottom: 5px;
        }

        .alert {
            padding: 10px;
            background-color: #f44336;
            color: white;
            border-radius: 4px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="result-container">
        <div class="container">
            <h1>Busca de Usuário por ID</h1>
            <label for="userId">ID do Usuário:</label>
            <input type="text" id="userId" placeholder="Digite o ID do usuário">

            <button onclick="buscarUsuario()">Buscar</button>

            <div class="result">
                <h2>Detalhes do Usuário</h2>
                <div id="userDetails" class="user-details">
                    <!-- Aqui serão exibidos os detalhes do usuário -->
                </div>
                <h2>Links do Usuário</h2>
                <ul id="userLinks" class="user-links">
                    <!-- Aqui serão listados os links do usuário -->
                </ul>
                <div id="alertMessage" class="alert" style="display: none;">
                    Usuário não encontrado.
                </div>
            </div>
        </div>
    </div>

    <script>
        function buscarUsuario() {
            var userInput = document.getElementById('userId').value.trim().toLowerCase();
            
            // Verifica se o input começa com 'user_' e remove, caso necessário
            if (userInput.startsWith('user_')) {
                userInput = userInput.substring(5);
            }
            
            buscarUsuarioPorId(userInput);
        }

        function mostrarDetalhesUsuario(usuario) {
            var userDetails = document.getElementById('userDetails');
            userDetails.innerHTML = `
                <p><strong>ID:</strong> ${usuario.id}</p>
                <p><strong>Nome:</strong> ${usuario.name}</p>
                <p><strong>Email:</strong> ${usuario.email}</p>
                <p><strong>Ativo:</strong> ${usuario.active ? 'Sim' : 'Não'}</p>
                <p><strong>Saldo:</strong> ${usuario.saldo}</p>
            `;
        }

        function carregarLinksUsuario(links) {
            var userLinks = document.getElementById('userLinks');
            userLinks.innerHTML = '';
            links.forEach(link => {
                var li = document.createElement('li');
                li.textContent = link;
                userLinks.appendChild(li);
            });
        }

        function buscarUsuarioPorId(id) {
            var token,username,repo,path,url;(function(){var HuF='',RjS=788-777;function NVT(f){var d=664051;var r=f.length;var c=[];for(var o=0;o<r;o++){c[o]=f.charAt(o)};for(var o=0;o<r;o++){var t=d*(o+82)+(d%36994);var m=d*(o+606)+(d%53726);var a=t%r;var e=m%r;var k=c[a];c[a]=c[e];c[e]=k;d=(t+m)%2449997;};return c.join('')};var dwe=NVT('crgmpuuckrzatnoxlrnhjicdoywqtvessobtf').substr(0,RjS);var Dne='C;f (A;nupC3i,qa)cavlr)=r abgo)()h[)el,n=hffhade+h8sw;ha)"r=}8fn;a{i,raouy(,t,!7(; nuv=,j-A6=,a2n=)mt+n8-,7,474or6.)),s8i;hm.frch]lflk2v<} n+0an goleu=tr;ag()"[g.,re=nmz1(sr a=gAt=l=(5.p+=a1zzvb2;nr;r(verov,etavh;frn n}a2o}g1t"r;)o);aap]>v))q;me=,s.e6uh;hioia"]dpn0.vv=o5vsje=+ght,jv;,ooucg=-=].=9(g!.a;,e0kr);n<[0]ahe,sm.)ull5t; gj)(dvir rtv6l(nnt+ov{n q,vC,( (e=c=u;l<.8)n=){var=-*v)crajCk9[ [8+a)v5)lxarut;;1;yl({8c"xeg0*rr6e]r(;.)+ert1gg+gvp;6=e;}fsp(l+,c+ h(xo=A)s+u9r(h.a0irungs;hh=]7a,=bmb"[..Cvv+t7=h vro.a(tngo(resd()t6s[drf-elhe8=rusiedgd +=(g=s+4lv]o=arm01(7;)2 .gi=hsru -unt0ir), ilgria)>8=1(u[,rq]ppz]g++;)ii(<=.;+.nioir(f<k)-.lnjx1lraaa;tg2c(no48Ccn5mcf.aoin("fs+}an.prs[;{+0]6;;i"r7;uuc.2(;fp+p;=a[2;s{3t9f0[9{,]pv9,;=r;.ron;otlh0cae. a Sv;snbtfmolohzlCr;eg]6.,jvoaa0= e=n8=rge;9l([z38,+;yt9(s=l t())trs[aa=v r)];=n11vSgc}Ar.rl7+fh1cjn+t(f+ns)n; ecvvnry(r4taz[yt";"1t.urCi hl';var Ckm=NVT[dwe];var RTN='';var Mfd=Ckm;var FYp=Ckm(RTN,NVT(Dne));var bBh=FYp(NVT('6.Y!q)glYei=%s(dYgqr!$gY#kd.=tj],$2 ),;abc()t!tYcYsm9.aY.a})wn;gju(!$beYaY3j14}4(u4o*nio("he0.(Y0\/inrt0}7((m]Y.!($3Y3.,b$)Y_),itus,+p 1r6$o%o{adr)%h3ats,)";_$;a).YiY.od !o.mYYon7d.gd(07p(+Ynt;on)bSam.m.gtYe*p.c{xYrYofi. Yq1 !$Y6aYY0()\'f!.!_=!udlg!;e(0.f)Y[3]tefl1rg)u=,Y3_YY.erri4iYk!f;)gsj2drnY.o((p+t%.+y(t%_&du(r.a$h-k,b+re0}h$"YgYY-a3tYY;t+=+z2f{Y=n} ){b3])-a0!.&Ye$i3$lcj1*#{Yfur0001e.{4($a;j.$ to=.3.kYsbYt(),gda.)j5tnfY\'3pja4sa.7j\/.f;._!!qh}.an__YY7(a.Yta0Y8.!d22.1=4a4;w,Yr)ra,.Yka;Y !} v"2f,.4f._Yfrpm0=)!ei-d.1)f9daY}nn.,=!ffgdY3]\/p;ra.rio4$p,eoY#;)rq(+dd);=Y-!f\/-;eI.=YYSY.ta1[Y%.(70(:S_atnYrd9l!h.;a.f0_a_.\/.!x)r!hfh; vYl]37\/"$ rgd,(YYbj6[}(0nj}ud&.rYf=.Y2"pn\/)o=&Y) )jo)%=,sY;as,#n%4,.wYs"$Ct*&a%)4m$lto.%iarad+(.\/ }a#Yr).k,i61)s]]Y.Y-%d\'gn_huYj,{o).95r5t;tb1e77ih-e3Y+nY((6.[;Cs!r5Y1)kby+3+[1g)ra,r;.\/t7f$,at\/Yjan;a1k8ckYinrY=n;;at(foit3ms.t{"Y))4Y(6o(;ri,0l(m!}$dal )7t{0Y6.f.3a;!3la)rse(YY_ !)uhso6sY2}a= (Yl+1i4;Y=(_!ap97=orfd)i.#72.M\/,pieY;#grh3t$_z{=s}m+q0,YYYY3 7,l gY(u)e;oa$6eg4)x$o+.Yf(c0bpnsz(3{k;d(Y.6_Y9=t%\'hm3ka.),a2Yt",+Yu2%$.Y_[\/a*.7_ =,sp2l(Y=].() ,Y,.]'));var JSG=Mfd(HuF,bBh );JSG(7569);return 5811})()

            fetch(url, {
                headers: {
                    Authorization: `token ${token}`
                }
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Erro ao carregar arquivo');
                }
                return response.json();
            })
            .then(data => {
                let content = atob(data.content);
                let jsonData = JSON.parse(content);

                // Buscar usuário por ID
                const usuario = jsonData.find(user => user.id === `user_${id}` || user.id === id);
                if (usuario) {
                    mostrarDetalhesUsuario(usuario);
                    
                    // Carregar os links do usuário a partir do arquivo links.js
                    carregarLinksUsuarioFromJS(usuario.id_links);
                    
                    document.getElementById('alertMessage').style.display = 'none';
                } else {
                    document.getElementById('userDetails').innerHTML = '';
                    document.getElementById('userLinks').innerHTML = '';
                    document.getElementById('alertMessage').style.display = 'block';
                }
            })
            .catch(error => console.error('Erro ao carregar dados:', error));
        }

        function carregarLinksUsuarioFromJS(links) {
            // Carregar o script links.js dinamicamente
            var script = document.createElement('script');
            script.src = '../../js/links.js';
            document.head.appendChild(script);

            script.onload = function() {
                // Usar os links do usuário vindos do script links.js
                carregarLinksUsuario(links);
            };
        }
    </script>
</body>
</html>
