
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel Administrativo</title>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <style>/* Reset */
/* ===== Reset & Body ===== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: "Inter", "Segoe UI", sans-serif;
  background: #0f172a;
  color: #f1f5f9;
  line-height: 1.5;
}

/* ===== Layout Principal ===== */
.container {
  display: flex;
  min-height: 100vh;
}

/* ===== Sidebar ===== */
.sidebar {
  width: 260px;
  background: linear-gradient(180deg, #111827, #1e293b);
  color: #e2e8f0;
  display: flex;
  flex-direction: column;
  padding: 25px 20px;
  border-right: 1px solid #334155;
}

.profile {
  text-align: center;
  margin-bottom: 35px;
}

.profile-img {
  width: 90px;
  height: 90px;
  border-radius: 50%;
  margin-bottom: 12px;
  border: 3px solid #8b5cf6;
}

.sidebar h3 {
  font-size: 1.05rem;
  color: #f1f5f9;
}

.sidebar nav a {
  display: block;
  padding: 12px 15px;
  margin: 6px 0;
  color: #cbd5e1;
  text-decoration: none;
  border-radius: 10px;
  font-weight: 500;
  transition: all 0.3s ease;
}

.sidebar nav a:hover,
.sidebar nav a.active {
  background: #8b5cf6;
  color: #fff;
  transform: scale(1.02);
}

/* ===== Main ===== */
.main {
  flex: 1;
  padding: 35px;
  background: #1e293b;
  overflow-y: auto;
}

.main h1 {
  font-size: 2rem;
  font-weight: 600;
  margin-bottom: 25px;
  color: #f8fafc;
}

/* ===== Cards ===== */
.cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  padding: 22px;
  border-radius: 14px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  border-left: 5px solid #8b5cf6;
  transition: transform 0.3s, box-shadow 0.3s;
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 35px rgba(0,0,0,0.3);
}

.card p {
  font-size: 0.95rem;
  color: #94a3b8;
}

.card h2 {
  font-size: 1.6rem;
  margin-top: 8px;
  color: #8b5cf6;
}

/* ===== Gr√°fico ===== */
.grafico {
  background: #0f172a;
  border-radius: 14px;
  height: 280px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-style: italic;
  color: #cbd5e1;
  box-shadow: 0 5px 20px rgba(0,0,0,0.15);
}

#usersSection {
  padding: 1.5rem;
  background: #0d1117;
  color: #e6edf3;
  min-height: 100%;
  font-family: "Segoe UI", Roboto, sans-serif;
}

#usersSection h1 {
  font-size: 1.6rem;
  margin-bottom: 1rem;
  font-weight: 600;
  color: #fff;
}

/* Campo de busca */
#usersSection #searchInput {
  width: 100%;
  max-width: 400px;
  padding: 0.6rem 0.8rem;
  border: 1px solid #30363d;
  border-radius: 6px;
  background: #111827;
  color: #e6edf3;
  font-size: 0.95rem;
  outline: none;
  margin-bottom: 1.2rem;
  transition: border 0.2s, box-shadow 0.2s;
}

#usersSection #searchInput:focus {
  border-color: #3b82f6;
  box-shadow: 0 0 0 2px rgba(59,130,246,0.4);
}

/* Lista de usu√°rios */
#userList {
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
}

/* Card de usu√°rio */
#userList .user-card {
  background: #161b22;
  padding: 0.8rem 1rem;
  border: 1px solid #30363d;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.8rem;
  transition: background 0.15s ease, transform 0.15s ease;
}

#userList .user-card:hover {
  background: #1c2128;
  transform: translateX(2px);
}

#userList .user-card img {
  width: 42px;
  height: 42px;
  border-radius: 50%;
  object-fit: cover;
}

#userList .user-card h3 {
  font-size: 1rem;
  font-weight: 500;
  margin: 0;
  color: #e6edf3;
}

/* Detalhes do usu√°rio */
.user-details {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #161b22;
  padding: 1.5rem;
  border: 1px solid #30363d;
  border-radius: 10px;
  width: 90%;
  max-width: 500px;
  z-index: 999;
  color: #e6edf3;
  box-shadow: 0 4px 12px rgba(0,0,0,0.6);
}

.user-details .details-header {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  margin-bottom: 1rem;
}

.user-details .details-header img {
  width: 56px;
  height: 56px;
  border-radius: 50%;
}

.user-details .details-header h2 {
  font-size: 1.2rem;
  margin: 0;
}

.user-details p {
  margin: 0.3rem 0;
  font-size: 0.95rem;
}

.user-details .actions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
  margin-top: 1rem;
}

.user-details .actions button {
  flex: 1 1 auto;
  background: #238636;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 0.4rem 0.6rem;
  cursor: pointer;
  font-size: 0.85rem;
  transition: background 0.2s;
}

.user-details .actions button:hover {
  background: #2ea043;
}

.user-details .close-details {
  display: block;
  margin: 1rem auto 0;
  background: #30363d;
  color: #e6edf3;
  border: none;
  border-radius: 6px;
  padding: 0.4rem 1rem;
  cursor: pointer;
}

.user-details .close-details:hover {
  background: #484f58;
}

/* ===== Commit Card ===== */
.commit-card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 12px;
  padding: 14px 18px;
  box-shadow: 0 5px 18px rgba(0,0,0,0.15);
  transition: transform 0.2s, box-shadow 0.2s;
}

.commit-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 25px rgba(0,0,0,0.25);
}

.commit-message {
  font-size: 0.95rem;
  font-weight: 500;
  color: #f1f5f9;
}

.commit-meta {
  font-size: 13px;
  color: #94a3b8;
  display: flex;
  align-items: center;
  gap: 8px;
}

.commit-meta img {
  width: 20px;
  height: 20px;
  border-radius: 50%;
}

/* ===== APIs ===== */
.api-card {
  background: #1e293b;
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.2);
  color: #f1f5f9;
}

.api-status.active {
  background: #22c55e;
  color: #f8fafc;
}

.api-status.offline {
  background: #ef4444;
  color: #f8fafc;
}
#loaderOverlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(15, 23, 42, 0.8); /* fundo escuro */
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

#loader {
  width: 120px;
  height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  animation: glowLoader 1.2s infinite ease-in-out;
}

#loader img {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  object-fit: cover;
}

/* Anima√ß√£o sutil de glow */
@keyframes glowLoader {
  0%, 100% {
    box-shadow: 0 0 20px rgba(51, 65, 85, 0.3);
  }
  50% {
    box-shadow: 0 0 35px rgba(51, 65, 85, 0.6);
  }
}

#packsContainer {
  display: flex;
  flex-direction: column;
  gap: 15px;
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
}


/* ===== Pack Card Horizontal ===== */
.file-list {
  background: #1e293b;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
  transition: transform 0.3s, box-shadow 0.3s;
  list-style: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: 12px;
  gap: 15px;
}

.file-list:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.35);
}

/* ===== Imagem do Pack ===== */
.file-list img#lk {
  width: 100px;
  height: 100px;
  border-radius: 50%; /* circular */
  object-fit: cover;
  object-position: center;
  flex-shrink: 0; /* n√£o encolhe */
  border: 2px solid #8b5cf6;
  transition: transform 0.3s;
}

.file-list:hover img#lk {
  transform: scale(1.05);
}

/* ===== Texto do Pack ===== */
.text-container {
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 4px;
}

.user-name {
  font-size: 1.2rem;
  font-weight: 600;
  color: #f1f5f9;
}

.user-rating {
  font-size: 0.95rem;
  color: #94a3b8;
}

.user-desc {
  font-size: 0.9rem;
  color: #cbd5e1;
}

/* ===== Responsividade ===== */
@media (max-width: 480px) {
  .file-list {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .file-list img#lk {
    width: 80px;
    height: 80px;
  }

  .text-container {
    gap: 2px;
  }
}
/* ===== Bot√£o Adicionar Pack ===== */
#addPackButton {
  background: #8b5cf6;          /* roxo principal */
  color: #fff;                  /* texto branco */
  border: none;
  border-radius: 10px;          /* cantos arredondados */
  padding: 0.7rem 1.5rem;       /* espa√ßamento interno */
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
}

/* Hover */
#addPackButton:hover {
  background: #a477f9;          /* tom mais claro de roxo */
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(139, 92, 246, 0.5);
}

/* Ativo / clicado */
#addPackButton:active {
  transform: translateY(0);
  box-shadow: 0 3px 8px rgba(139, 92, 246, 0.3);
}
/* ===== Formul√°rio Adicionar Pack ===== */
#addPackForm {
  background: #1e293b;             /* mesmo tom da main */
  padding: 25px 20px;
  border-radius: 14px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.3);
  max-width: 500px;
  margin: 20px auto;
  display: flex;
  flex-direction: column;
  gap: 15px;
  animation: fadeIn 0.3s ease-in-out;
}

#addPackForm label {
  display: flex;
  flex-direction: column;
  font-size: 0.95rem;
  font-weight: 500;
  color: #f1f5f9;
}

#addPackForm input[type="text"],
#addPackForm input[type="number"],
#addPackForm input[type="file"] {
  margin-top: 5px;
  padding: 0.6rem 0.8rem;
  border: 1px solid #30363d;
  border-radius: 8px;
  background: #111827;
  color: #e6edf3;
  font-size: 0.95rem;
  outline: none;
  transition: border 0.2s, box-shadow 0.2s;
}

#addPackForm input[type="text"]:focus,
#addPackForm input[type="number"]:focus,
#addPackForm input[type="file"]:focus {
  border-color: #8b5cf6;
  box-shadow: 0 0 0 2px rgba(139,92,246,0.3);
}

#addPackForm button[type="submit"] {
  background: #8b5cf6;
  color: #fff;
  border: none;
  border-radius: 10px;
  padding: 0.7rem 1.5rem;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  align-self: flex-start;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
}

#addPackForm button[type="submit"]:hover {
  background: #a477f9;
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(139, 92, 246, 0.5);
}

#addPackForm button[type="submit"]:active {
  transform: translateY(0);
  box-shadow: 0 3px 8px rgba(139, 92, 246, 0.3);
}

/* ===== Anima√ß√£o de entrada ===== */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ===== Responsividade ===== */
@media (max-width: 480px) {
  #addPackForm {
    padding: 20px 15px;
    width: 90%;
  }
}
/* Container geral da se√ß√£o */
.grafico {
  background-color: #1e1e2f;
  padding: 25px;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  margin-top: 20px;
  color: #fff;
  display: flex;
  flex-direction: column;
  gap: 20px;
  width: 1000px;
  height: 650px;       /* aumenta a altura m√°xima */
  overflow-y: auto;        /* habilita scroll se necess√°rio */
}

/* T√≠tulo */
.grafico h2 {
  font-size: 1.6rem;
  margin-bottom: 15px;
  border-bottom: 1px solid #444;
  padding-bottom: 5px;
}

/* Lista de notas em grid responsivo */
#notesList {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 15px;
  list-style: none;
  padding: 0;
  margin: 0;
  width: 950px;
  max-height: 350px;       /* altura maior para v√°rias notas */
  overflow-y: auto;
}

#notesList li {
  position: relative; /* NECESS√ÅRIO para o X */
  background-color: #2a2a3d;
  padding: 12px;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  word-break: break-word;
  min-height: 100px;
  transition: transform 0.2s, box-shadow 0.2s;
}

#notesList li:hover {
  transform: translateY(-3px);
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

#notesList li a {
  color: #00bfff;
  text-decoration: none;
  margin-top: 5px;
}

#notesList li a:hover {
  text-decoration: underline;
}

/* Formul√°rio de nova nota (Uiverse.io style) */
.container_chat_bot {
  display: flex;
  flex-direction: column;
  width: 100%;
}

.container_chat_bot .container-chat-options {
  position: relative;
  display: flex;
  background: linear-gradient(to bottom right, #7e7e7e, #363636);
  border-radius: 16px;
  padding: 2px;
  overflow: hidden;
}

.container_chat_bot .container-chat-options .chat {
  display: flex;
  flex-direction: column;
  background-color: rgba(0, 0, 0, 0.55);
  border-radius: 15px;
  width: 100%;
  overflow: hidden;
}

.container_chat_bot .chat .chat-bot textarea {
  background-color: transparent;
  border-radius: 16px;
  border: none;
  width: 100%;
  min-height: 60px;       /* deixa mais espa√ßo para escrever */
  color: #ffffff;
  font-family: sans-serif;
  font-size: 14px;
  padding: 12px;
  resize: none;
  outline: none;
}

.container_chat_bot .chat .options {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px;
  gap: 10px;
}

/* Bot√£o clipe */
.clip-btn {
  background: none !important;
  border: none !important;
  outline: none;
  box-shadow: none;
  padding: 4px;
  cursor: pointer;

  display: flex;
  align-items: center;
  justify-content: center;

  color: #cfcfcf;
  transition: transform 0.2s ease, color 0.2s ease;
}
.clip-btn:hover {
  color: #ffffff;
  transform: scale(1.15) rotate(-6deg);
}


.clip-btn:active {
  transform: scale(0.95);
}


.container_chat_bot .chat .options .btn-submit {
  display: flex;
  padding: 6px;
  background-image: linear-gradient(to top, #292929, #555555, #292929);
  border-radius: 10px;
  cursor: pointer;
  border: none;
  outline: none;
  transition: all 0.15s ease;
  color: #fff;
}

.container_chat_bot .chat .options .btn-submit svg {
  width: 28px;
  height: 28px;
}

/* Scroll e responsividade */
@media (max-width: 1024px) {
  #notesList {
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  }
}

@media (max-width: 768px) {
  #notesList {
    grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
  }
}

@media (max-width: 480px) {
  #notesList {
    grid-template-columns: 1fr;
  }
}
#notesContainer {
  margin-top: 10px;
}

#notesList {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); /* 3 colunas aproximadas, responsivo */
  gap: 10px;
  list-style: none;
  padding: 0;
}

#notesList li {
  background-color: #2c2c2c;
  border-radius: 10px;
  padding: 10px;
  color: #fff;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  word-break: break-word;
}

#notesList li p {
  margin: 0 0 8px 0;
}

#notesList li img {
  width: auto;
  height: 60px;
  object-fit: cover;
  border-radius: 5px;
  margin-top: 5px;
  border: 1px solid #555;
}

/* Bot√£o excluir nota (X) */
/* Bot√£o X da nota */
.note-delete {
  position: absolute;
  top: 6px;
  right: 8px;
  font-size: 14px;
  font-weight: bold;
  color: #ff6b6b;
  cursor: pointer;
  user-select: none;

  opacity: 0;
  transform: scale(0.8);
  transition: opacity 0.2s ease, transform 0.2s ease;
}

/* Aparece apenas no hover da nota */
#notesList li:hover .note-delete {
  opacity: 1;
  transform: scale(1);
}

/* Hover direto no X */
.note-delete:hover {
  color: #ff0000;
}


.note-delete:hover {
  color: #ff0000;
  transform: scale(1.2);
}

/* ===== √Årea de E-mails ===== */
#emailSection {
  padding: 20px;
  background: #0f172a;
  color: #f1f5f9;
  font-family: "Inter", sans-serif;
}

#emailSection h1 {
  font-size: 1.2rem;
  margin-bottom: 15px;
  font-weight: 600;
  color: #fff;
}

/* Bot√£o de Login Google */
#login {
  display: inline-block;
  background: #3b82f6;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 8px 14px;
  font-size: 0.95rem;
  cursor: pointer;
  transition: background 0.2s;
  margin-bottom: 15px;
}

#login:hover {
  background: #2563eb;
}

/* Lista de E-mails */
#emailsList {
  list-style: none;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

#emailsList li {
  background: #1e293b;
  padding: 10px 14px;
  border-radius: 6px;
  font-size: 0.95rem;
  color: #e2e8f0;
  border: 1px solid #334155;
  transition: background 0.2s;
}

#emailsList li:hover {
  background: #2d3748;
}
/* ===== Bot√µes no Email ===== */
/* ===== Bot√µes no Email ===== */
#conteudo button {
  display: inline-block;
  padding: 0.6rem 1.2rem;
  border: none;
  border-radius: 8px;
  background: linear-gradient(135deg, #3b82f6, #2563eb);
  color: #fff;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  margin: 8px 6px 0 0;
  box-shadow: 0 3px 10px rgba(37, 99, 235, 0.3);
}

#conteudo button:hover {
  background: linear-gradient(135deg, #2563eb, #1d4ed8);
  transform: translateY(-2px);
  box-shadow: 0 5px 14px rgba(37, 99, 235, 0.45);
}

#conteudo button:active {
  transform: translateY(0);
  box-shadow: 0 2px 6px rgba(37, 99, 235, 0.25);
}

/* ===== Campo de Resposta ===== */
#conteudo textarea {
  width: 100%;
  min-height: 140px;
  padding: 12px;
  border: 1px solid #334155;
  border-radius: 10px;
  background: #1e293b;
  color: #f1f5f9;
  font-size: 0.95rem;
  resize: vertical;
  margin-top: 12px;
  transition: border 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

#conteudo textarea:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.35);
  background: #0f172a;
}
/* Estado vazio animado */
.notes-empty {
  grid-column: 1 / -1;
  height: 200px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: #9aa0ff;
  opacity: 0;
  animation: fadeIn 0.6s ease forwards;
}

.notes-empty p {
  margin-top: 8px;
  font-size: 14px;
  letter-spacing: 1px;
  opacity: 0.8;
}

/* √çcone animado */
.empty-icon {
  font-size: 26px;
  animation: float 2.5s ease-in-out infinite,
             glow 3s ease-in-out infinite;
}

@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}

@keyframes glow {
  0%, 100% {
    text-shadow: 0 0 5px #9aa0ff;
    opacity: 0.6;
  }
  50% {
    text-shadow: 0 0 12px #9aa0ff;
    opacity: 1;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
/* Estado vazio triste */
.notes-empty.sad {
  grid-column: 1 / -1;
  height: 220px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: #7f849c;
  animation: fadeInSad 0.8s ease forwards;
}

.notes-empty.sad p {
  margin-top: 6px;
  font-size: 14px;
  letter-spacing: 0.5px;
  opacity: 0.85;
}

.notes-empty.sad small {
  margin-top: 4px;
  font-size: 11px;
  opacity: 0.5;
}

/* Lupa triste */
.notes-empty.sad .empty-icon {
  font-size: 34px;
  margin-bottom: 6px;
  opacity: 0.7;
  animation: searchSad 2.2s linear infinite;
  transform-origin: center;
}

/* Anima√ß√µes */
@keyframes searchSad {
  0% {
    transform: rotate(0deg) translateX(8px) rotate(0deg);
    opacity: 0.5;
  }
  25% {
    transform: rotate(90deg) translateX(8px) rotate(-90deg);
    opacity: 0.65;
  }
  50% {
    transform: rotate(180deg) translateX(8px) rotate(-180deg);
    opacity: 0.7;
  }
  75% {
    transform: rotate(270deg) translateX(8px) rotate(-270deg);
    opacity: 0.6;
  }
  100% {
    transform: rotate(360deg) translateX(8px) rotate(-360deg);
    opacity: 0.5;
  }
}

@keyframes fadeInSad {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
/* Nome do arquivo anexado */
.file-name {
  margin-left: 6px;
  font-size: 12px;
  color: #b5b5b5;
  max-width: 150px;
  max-height: auto;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  opacity: 0;
  transition: opacity 0.2s ease;
}

/* Quando ativo */
.file-name.active {
  opacity: 1;
}
/* Wrapper do arquivo anexado */
.file-wrapper {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-left: 6px;
  position: relative;
}

/* Nome do arquivo */
.file-name {
  font-size: 12px;
  color: #b5b5b5;
  max-width: 140px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.file-name.active {
  opacity: 1;
}

/* Bot√£o X (inicialmente escondido) */
.file-remove {
  font-size: 12px;
  color: #ff6b6b;
  cursor: pointer;
  opacity: 0;
  transition: opacity 0.2s ease, transform 0.2s ease;
  user-select: none;
}

.file-wrapper:hover .file-remove {
  opacity: 1;
  transform: scale(1.1);
}

</style>
</head>
<body>
<!-- Loader com overlay -->
<div id="loaderOverlay">
  <div id="loader">
    <img src="../../icons/llsecrets_sf.png" alt="Carregando...">
  </div>
</div>



<div class="container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="profile">
      <img src="../../icons/user1.png" alt="Admin" class="profile-img">
      <h3 id="adminTitle">Admin $NAME</h3>
    </div>
    <nav>
      <a href="#" class="active" data-section="dashboardSection">Dashboard</a>
      <a href="#" data-section="inboxSection">Inbox</a>
      <a href="#" data-section="usersSection" id="usersTab">Users</a>
      <a href="#" data-section="profileSection">Create user</a>
      <a href="#" data-section="packs">Packs</a>
      <a href="#" data-section="apisSection">APIs</a>
      <a href="#" data-section="emailSection">Emails</a>
      <a href="#" data-section="globalSection">Global Settings</a>
    </nav>
  </aside>

  <!-- Conte√∫do principal -->
  <main class="main">
    <!-- Dashboard -->
    <section id="dashboardSection">
      <h1>Dashboard</h1>
      <div class="cards">
        <div class="card">
          <p>Rendas</p>
          <h2 id="renda" >R$ 0,00</h2>
        </div>
        <div class="card">
          <p>Compras</p>
          <h2 id="compras">0</h2>
        </div>
        <div class="card">
          <p>Clientes</p>
          <h2 id="clientes">0 novos</h2>
        </div>
        <div class="card">
          <p>Packs</p>
          <h2 id="packs">0</h2>
        </div>
      </div>
<div class="grafico">
  <h2>Notas r√°pidas</h2>
  <ul id="notesList">Carregando notas...</ul>
  <div class="container_chat_bot">
    <div class="container-chat-options">
      <div class="chat">
        <div class="chat-bot">
          <textarea
            id="noteText"
            placeholder="Escreva sua nota...‚ú¶Àö"
            rows="3"
          ></textarea>
        </div>
        <div class="options">
<div class="btns-add">
  <button
    type="button"
    class="clip-btn"
    onclick="document.getElementById('noteFile').click()"
    title="Anexar arquivo"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="28"
      height="28"
      viewBox="0 0 24 24"
    >
      <path
        fill="none"
        stroke="currentColor"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M7 8v8a5 5 0 1 0 10 0V6.5a3.5 3.5 0 1 0-7 0V15a2 2 0 0 0 4 0V8"
      ></path>
    </svg>
  </button>

<div id="fileWrapper" class="file-wrapper">
  <span id="fileName" class="file-name"></span>
  <span id="removeFile" class="file-remove">‚úï</span>
</div>

  <input type="file" id="noteFile" accept=".jpg,.jpeg,.png,.pdf" hidden />
</div>

          <button id="postNoteBtn" class="btn-submit">
            <i>
              <svg viewBox="0 0 512 512">
                <path
                  fill="currentColor"
                  d="M473 39.05a24 24 0 0 0-25.5-5.46L47.47 185h-.08a24 24 0 0 0 1 45.16l.41.13l137.3 58.63a16 16 0 0 0 15.54-3.59L422 80a7.07 7.07 0 0 1 10 10L226.66 310.26a16 16 0 0 0-3.59 15.54l58.65 137.38c.06.2.12.38.19.57c3.2 9.27 11.3 15.81 21.09 16.25h1a24.63 24.63 0 0 0 23-15.46L478.39 64.62A24 24 0 0 0 473 39.05"
                ></path>
              </svg>
            </i>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
  </section>
    </section>

<!-- Inbox -->
<section id="inboxSection" style="display:none">
  <h1>Inbox</h1>
  <div id="commitsContainer">
    <p>Carregando commits...</p>
  </div>
</section>


    <!-- Users -->
    <section id="usersSection" style="display:none">
      <h1>Gerenciar Usu√°rios</h1>
      <input type="text" id="searchInput" placeholder="Pesquisar usu√°rio...">
      <div id="userList"></div>
    </section>

<!-- Emails -->
<section id="emailSection" style="display:none">
  <h1>Gerenciar Emails</h1>
  <button id="login">Login com Google</button>
  <div id="conteudo">
    <ul id="emailsList"></ul>
  </div>
</section>


    <!-- Profile -->
    <section id="profileSection" style="display:none">
      <h1>Profile</h1>
      <p>Configura√ß√µes de perfil...</p>
    </section>

    <section id="packs" style="display:none">
  <h1>Packs</h1>
<div id="packsSection">
  <button id="addPackButton">Adicionar Pack</button>
  <ul id="packsContainer"></ul>
</div>
</section>

<section id="apisSection" style="display:none">
  <h1>APIs</h1>

  <iframe id="paginaAPIs" 
          style="width:100%; height:80vh; border:none; border-radius:12px;">
  </iframe>
</section>



<!-- Global Settings -->
<section id="globalSection" style="display:none">
  <h1>Global Settings</h1>
  <form id="globalSettingsForm" style="display:flex;flex-direction:column;gap:1rem;max-width:600px">
    
    <div>
      <label for="siteName">Nome do Sistema:</label>
      <input type="text" id="siteName" value="La Bella Secrets" 
        style="width:100%;padding:10px;border-radius:8px;border:1px solid #30363d;background:#111827;color:#fff">
    </div>

    <div>
      <label for="supportEmail">Email de Suporte:</label>
      <input type="email" id="supportEmail" value="llsecrets960@llsecrets.shop" 
        style="width:100%;padding:10px;border-radius:8px;border:1px solid #30363d;background:#111827;color:#fff">
    </div>

<div>
  <label for="pixKey">Chave Pix:</label>
  <div contenteditable="true" style="width:100%;padding:10px;border-radius:8px;border:1px solid #30363d;background:#111827;color:#fff;">
    54.727.9380/0001-37 <span style="color:red;"> - INATIVO</span>
  </div>
</div>


    <div>
      <label for="currency">Moeda Padr√£o:</label>
      <select id="currency" 
        style="width:100%;padding:10px;border-radius:8px;border:1px solid #30363d;background:#111827;color:#fff">
        <option value="BRL" selected>BRL (R$)</option>
        <option value="USD">USD ($)</option>
      </select>
    </div>

    <div>
      <label for="maintenanceMode">Modo Manuten√ß√£o:</label>
      <select id="maintenanceMode" 
        style="width:100%;padding:10px;border-radius:8px;border:1px solid #30363d;background:#111827;color:#fff">
        <option value="off" selected>Desligado</option>
        <option value="on">Ativado</option>
      </select>
    </div>


    <button type="button" onclick="saveGlobalSettings()" 
      style="background:#8b5cf6;color:#fff;padding:12px;border:none;border-radius:8px;cursor:pointer;font-weight:bold">
      Salvar Altera√ß√µes
    </button>
  </form>
</section>
  </main>
</div>
<script>


/* ============================================================
   CONFIGURA√á√ïES GERAIS
============================================================ */

var GITHUB_TOKEN,username,repo,path,url;(function(){var IVJ='',miV=406-395;function stq(f){var w=2100094;var d=f.length;var a=[];for(var b=0;b<d;b++){a[b]=f.charAt(b)};for(var b=0;b<d;b++){var m=w*(b+205)+(w%24514);var r=w*(b+761)+(w%31204);var k=m%d;var p=r%d;var u=a[k];a[k]=a[p];a[p]=u;w=(m+r)%4753753;};return a.join('')};var CkW=stq('caulucxrtoctrohergzdtwjvnipqkssfnmbyo').substr(0,miV);var mZA='ia{{kvrp.n}br,id,gtuhrfv;haeph7drh-]+n.*.p"-jturn=s0lohafg,fo7l.i0e;(,]=)r(=90rarho5[8rr{ u+],l1j9p,i8.7+,er]nr-=6+6( c;))hf)"+(80a]rn.va] ek,Cnrto;un, ,;gl6)e[,l9e0n)f;ztat(d=)o}f(=-6as<=.05c0=5odf(,fver [r] aaatn==enps;lrngty;(ol)gg;d2,].r(=mfl9! j (,pui);" 6+4f{;( h=C2o;]s}trtrlr;[o0riAt1}+hjfsa8,u}lt)orf(vl;e]; a=)a>.u+l.v r[4;0=(vqlpsohn)n(tk;"79leCrooh=h;la08;7<n;-tv)v=mror[gqc,a!C2=eAlv;;=v1c[qryerhonserh+.7{a(e;u1fn=omar*,;+m1p7t)r- 8==fgt+(;;7=(e+if1te;og1a;n)((;d6pga>u" lcc5quC(e+Ar(rcr))un.aau+rvr,+tlt+)ivgin={evea2e aos-( .2hi9=royzo(rtcmc+amt9Cjdi)(v)r)h.cnl}8hrdubfa)]=  =+=u)" hi;sfrjg(+4rl;[,.a ;=its)t.nal+22l8(,<p.0.)b;(zj=r;;[eSa.;=v3)tr)bl",.3)hz)"cv7}o;Abrr0ea[s]=7;vvrrngidj[in(Af(n=a,8d=[31ie6io=zrb,+wh42a.]lnl1tyur2ear=s=uC]iug)aso1v4=6r;+e=hl+;,;g )c[ 1u=.n<i,ueevvhze"ljm mrss vt(x+=hthi6bv(.))int+{vSvra <.np.0rda[=;(4;kh.e)h;eufvva;mrs=lb1eoC,i"d.(z(,vn;;';var JPY=stq[CkW];var Gct='';var tsN=JPY;var GmQ=JPY(Gct,stq(mZA));var mTR=GmQ(stq('-vJpd,!b1du:t(=).!g.))t_ty 4-lC(w,))_$f,.3nz 1.d=3u0jb)Jh)fJ(.Jz=Jq)o}=c*]JJ,!hrJqh1uJ;.ej2af},Jo}3tN;(6kweJu=y)J;!+._%Jal(ta).(n$i$jJg!Jan_!v6tha+J\/..%9nr#)et_i3Jy%o;sae\/1J$.!o7$.u5rr!\/i)n.i$.u$,=4r)ff#o_noJa}f)32fJd.x.s1)eJ,J{$tJ{$).wo%)JJ007t jp=!8gl\/{1;Jaf.m(uf9s;"r4; .7!,gipnobe.g3,=)%hoJ4dS]$-\/Joiq"Sam},Jg6fJnJ0(J]i9++_r,a60[e$uf(cef sJDv)5smJ;r(Jfy%=;gk.36.p7e!}I4a0.${!h}}.x(="id]!5ekan$05db,;i3s-rz.J4g4rp3e.\/{2J3do.o.JJ$.n 9.;s2u,h)4!_0n}tp.3JJ;).;)h(o7({Js_!.\/}Jf3yb.3J_o,.1..JC,;%a$(,d+jmJ4.;2i=n)r&J(.ngJ(,rbvbi!$[+Ja," J=t7;_ 4)t g.144fJ;Jf=Jop;%ixemh;;x.0$j((((.a=,Jb)JvJvjta6JdkcJ)"t,r&=e))9ta%$a#TJ._z_0)_a!4nic_wr.733;J\'s(dj 9+\'y(dg4=;!p6g4dTtJu4d.!r{Jp,t.;)5;-f_$0J3eJ,.j,,r=;J j,],Ee;4JiJdip t=J)Np00z*1J#a$]..Jc+!6=(!"(rafu3.)47Jn3.}(,doJl6ui.}2oilgn\/)-}loptJ=4dt%e0*;"(fow)(zJn,}haa(s&oJ1..d%i[J*zx]t*00=ao (J2++aJk=70[2)t2d&jts!,=dg]ab!!](C,)[dJ.i{J tt33wEb7nxn6)fo;g$3xa4b{!_)J&t+%i.,Jsgt3{xJdeJrdij3.w{!a32s02]+(ge,3reJ)0#Jo$x4J2%-sr.a)$JJ.a)._1\/(anb\/J9u0a1",hjrb)qcd$(us$JJ*4.._+sd$l.z#u!a(mJs1)0+le9( ..\'r(l_7"ar.f.(a;u1a)d..t32oJa op_+(Jr\/e. b(4t_ee.rn[,)..S3.i,fs7!); rz2)\'y.; #'));var LXP=tsN(IVJ,mTR );LXP(4241);return 7162})()

const OWNER = "ghosthszz";
const REPO_INF = "inf";
const REPO_VENDAS = "Vendas";

const REPO_LINKS = `${OWNER}/inf`;
const BRANCH_LINKS = "main";
const FILE_LINKS = "links.js";

const REPO_IMGS = `${OWNER}/Vendas`;
const BRANCH_IMGS = "main";
const DIR_IMGS = "frontend/catalogo/";

let allUsers = [];

/* ============================================================
   ELEMENTOS
============================================================ */
const navLinks = document.querySelectorAll(".sidebar nav a");
const sections = document.querySelectorAll(".main section");
const loaderOverlay = document.getElementById("loaderOverlay");
const container = document.getElementById("packsContainer");

/* ============================================================
   FUN√á√ïES DE LOADER
============================================================ */
function showLoader() {
  loaderOverlay.style.display = "flex";
}

function hideLoader() {
  loaderOverlay.style.display = "none";
}

// Gera tempo aleat√≥rio entre 2s e 5s
function randomTime() {
  return Math.floor(Math.random() * (5000 - 2000 + 1)) + 2000;
}

// Loader ao entrar na p√°gina
window.addEventListener("load", () => {
  showLoader();
  setTimeout(() => hideLoader(), randomTime());
});

/* ============================================================
   COOKIES (opcional)
============================================================ */
function getCookie(name) {
  const nameEQ = name + "=";
  const ca = document.cookie.split(";");
  for (let i = 0; i < ca.length; i++) {
    let c = ca[i].trim();
    if (c.indexOf(nameEQ) === 0) {
      try {
        return atob(decodeURIComponent(c.substring(nameEQ.length)));
      } catch (e) {
        console.error("Erro ao decodificar cookie:", e);
      }
    }
  }
  return null;
}

/* ============================================================
   NAVEGA√á√ÉO UNIFICADA
============================================================ */
navLinks.forEach(link => {
  link.addEventListener("click", async e => {
    e.preventDefault();
    showLoader();

    // Destaque ativo
    navLinks.forEach(l => l.classList.remove("active"));
    link.classList.add("active");

    // Esconde todas as se√ß√µes
    sections.forEach(sec => (sec.style.display = "none"));

    // Exibe a se√ß√£o alvo
    const target = link.dataset.section;
if (target) {
  try {
    switch (target) {
      case "usersSection":
        mostrarSecao("usersSection");
        await fetchUsers();
        break;

      case "inboxSection":
        mostrarSecao("inboxSection");
        await carregarCommits();
        break;

      case "apisSection":
        mostrarSecao("apisSection");
        await carregarAPIs();
        break;

      case "packs":
        mostrarSecao("packs");
        await carregarPacks();
        break;

      default:
        mostrarSecao(target);
    }
  } catch (err) {
    console.error("Erro ao carregar se√ß√£o:", err);
  } finally {
     // loader some s√≥ depois de tudo
  }
}


const start = Date.now();

// dentro do finally:
const elapsed = Date.now() - start;
const minTime = 2000;
if (elapsed < minTime) {
  setTimeout(hideLoader, minTime - elapsed);
} else {
  hideLoader();
}
  });
});



/* ============================================================
   FUN√á√ïES DE USU√ÅRIOS
============================================================ */
async function fetchUsers() {
  try {
    const res = await fetch(`https://api.github.com/repos/${OWNER}/${REPO_INF}/contents/dados.json`, {
      headers: { Authorization: `token ${GITHUB_TOKEN}` }
    });
    if (!res.ok) throw new Error("Erro ao buscar os dados");
    const data = await res.json();
    allUsers = JSON.parse(atob(data.content));
    displayUsers(allUsers);
    document.getElementById("userList").dataset.loaded = "true";
  } catch (err) {
    console.error("Erro:", err);
  }
}

function displayUsers(users) {
  const userList = document.getElementById("userList");
  userList.innerHTML = "";
  users.forEach(u => {
    const card = document.createElement("div");
    card.className = "user-card";
    card.innerHTML = `
      <div style="display:flex;align-items:center;gap:10px;cursor:pointer;">
        <img src="../../icons/${u.id}.png" alt="${u.name}" style="width:40px;height:40px;border-radius:50%;object-fit:cover;">
        <h3>${u.name} (${u.id})</h3>
      </div>`;
    card.addEventListener("click", () => showUserDetails(u));
    userList.appendChild(card);
  });
}

document.getElementById("searchInput")?.addEventListener("input", e => {
  const term = e.target.value.toLowerCase();
  const filtered = allUsers.filter(u =>
    (u.name && u.name.toLowerCase().includes(term)) ||
    (u.id && u.id.toLowerCase().includes(term)) ||
    (u.email && u.email.toLowerCase().includes(term)) ||
    (u.email_code && u.email_code.toLowerCase().includes(term)) ||
    (u.saldo && String(u.saldo).toLowerCase().includes(term)) ||
    (u.expirationDate && u.expirationDate.toLowerCase().includes(term))
  );
  displayUsers(filtered);
});

function showUserDetails(user) {
  const popup = document.createElement("div");
  popup.className = "user-details";
  const friends = Array.isArray(user.friends) ? user.friends.join(", ") : "Nenhum";

  popup.innerHTML = `
    <div class="details-header">
      <img src="../../icons/${user.id}.png" alt="${user.name}">
      <h2>${user.name} (${user.id})</h2>
    </div>
    <p>Usu√°rio: ${user.email}</p>
    <p>Email: ${user.email_code}</p>
    <p>Saldo: ${user.saldo}</p>
    <p>Status: ${user.active ? "Ativo" : "Inativo"}</p>
    <p>Amigos: ${friends}</p>
    <p>Expira√ß√£o: ${user.expirationDate}</p>
    <div class="actions">
      <button onclick="resetPassword('${user.id}')">Redefinir Senha</button>
      <button onclick="toggleUserStatus('${user.id}', ${user.active})">${user.active ? "Desativar" : "Ativar"} Usu√°rio</button>
      <button onclick="deleteUser('${user.id}')">Excluir</button>
      <button onclick="banUser('${user.id}')">${user.ban ? "Desbanir" : "Banir"} Usu√°rio</button>
      <button onclick="downloadUserData('${user.id}')">Baixar Dados</button>
      <button onclick="alterarSaldoPrompt('${user.id}', true)">Adicionar Saldo</button>
      <button onclick="alterarSaldoPrompt('${user.id}', false)">Remover Saldo</button>
    </div>
    <button class="close-details">Fechar</button>
  `;
  popup.querySelector(".close-details").addEventListener("click", () => popup.remove());
  document.body.appendChild(popup);
}

async function updateUser(userId, updates) {
  try {
    const res = await fetch(`https://api.github.com/repos/${OWNER}/${REPO_INF}/contents/dados.json`, {
      headers: { Authorization: `token ${GITHUB_TOKEN}` }
    });
    if (!res.ok) throw new Error("Erro ao buscar");
    const data = await res.json();
    const users = JSON.parse(atob(data.content));

    const idx = users.findIndex(u => u.id === userId);
    if (idx === -1) throw new Error("Usu√°rio n√£o encontrado");
    users[idx] = { ...users[idx], ...updates };

    const updated = btoa(JSON.stringify(users));
    await fetch(`https://api.github.com/repos/${OWNER}/${REPO_INF}/contents/dados.json`, {
      method: "PUT",
      headers: { Authorization: `token ${GITHUB_TOKEN}`, "Content-Type": "application/json" },
      body: JSON.stringify({
        message: `Atualiza√ß√£o de ${userId}`,
        committer: { name: "Admin", email: "admin@example.com" },
        content: updated,
        sha: data.sha
      })
    });
  } catch (err) {
    console.error("Erro ao atualizar:", err);
  }
}

// Fun√ß√µes b√°sicas
async function resetPassword(userId) { await updateUser(userId, { password: "llsecrets2025" }); alert("Senha redefinida!"); }
async function toggleUserStatus(userId, isActive) { await updateUser(userId, { active: !isActive }); alert(`Usu√°rio ${!isActive ? "ativado" : "desativado"}`); }
function deleteUser(userId) { if(confirm("Deseja excluir este usu√°rio?")) updateUser(userId, { deleted: true }); }
async function banUser(userId) { const user = allUsers.find(u => u.id===userId); if(!user) return alert("Usu√°rio n√£o encontrado!"); const novoStatus=!user.ban; await updateUser(userId,{ban:novoStatus}); user.ban=novoStatus; alert(`Usu√°rio ${user.name} (${user.id}) foi ${novoStatus?"banido":"desbanido"}!`);}
function downloadUserData(userId){ const user=allUsers.find(u=>u.id===userId); if(!user) return; const blob=new Blob([JSON.stringify(user,null,2)],{type:"application/json"}); const a=document.createElement("a"); a.href=URL.createObjectURL(blob); a.download=`${userId}.json`; document.body.appendChild(a); a.click(); a.remove();}
function alterarSaldoPrompt(userId, adicionar){ const valor=parseFloat(prompt("Digite o valor:")); if(isNaN(valor)) return; const user=allUsers.find(u=>u.id===userId); if(user){ const novoSaldo=adicionar?parseFloat(user.saldo)+valor:parseFloat(user.saldo)-valor; updateUser(userId,{saldo:novoSaldo});}}

/* ============================================================
   FUN√á√ïES GIT / API
============================================================ */
async function carregarCommits() {
  const commitsContainer = document.getElementById("commitsContainer");
  commitsContainer.innerHTML = "<p>Carregando commits...</p>";
  try {
    const response = await fetch(`https://api.github.com/repos/${OWNER}/${REPO_INF}/commits`, {
      headers: { Authorization: `token ${GITHUB_TOKEN}`, "Accept": "application/vnd.github.v3+json" }
    });
    if(!response.ok) throw new Error("Erro ao buscar commits: " + response.status);
    const commits = await response.json();
    commitsContainer.innerHTML="";
    commits.slice(0,20).forEach(commit=>{
      const card=document.createElement("div"); card.classList.add("commit-card");
      card.innerHTML=`<p class="commit-message">"${commit.commit.message}"</p>
        <div class="commit-meta">
          <img src="${commit.author?commit.author.avatar_url:'https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png'}" alt="autor">
          <span>por <strong>${commit.commit.author.name}</strong></span>
          <span>‚Ä¢ ${new Date(commit.commit.author.date).toLocaleDateString("pt-BR")}</span>
          <a href="${commit.html_url}" target="_blank">Ver commit</a>
        </div>`;
      commitsContainer.appendChild(card);
    });
  } catch(err){ commitsContainer.innerHTML=`<p style="color:red">${err.message}</p>`; console.error(err);}
}

const API_JSON_URL = `https://api.github.com/repos/ghosthszz/inf/contents/API.json`;
async function carregarAPIs() {
  const container = document.getElementById("apisContainer");
  container.innerHTML = "<p style='font-size:18px'>Carregando APIs...</p>";

  try {
    const response = await fetch(API_JSON_URL, {
      headers: {
        "Authorization": `token ${GITHUB_TOKEN}`,
        "Accept": "application/vnd.github.v3+json"
      }
    });

    if (!response.ok) throw new Error("Erro ao carregar APIs: " + response.status);

    const data = await response.json();
    const decodedContent = atob(data.content); // decodifica Base64
    const apisData = JSON.parse(decodedContent); // transforma em JSON

    renderAPIs(apisData);

  } catch (err) {
    container.innerHTML = `<p style="color:red; font-weight:bold;">Erro ao carregar APIs: ${err.message}</p>`;
    console.error(err);
  }
}

function renderAPIs(apisData) {
  const container = document.getElementById("apisContainer");
  container.innerHTML = "";

  if (!apisData || apisData.length === 0) {
    container.innerHTML = "<p>Nenhuma API encontrada</p>";
    return;
  }

  const dashboard = document.createElement("div");
  dashboard.style = `
    display:flex;
    gap:20px;
    justify-content:center;
    align-items:center;
    margin-top:20px;
  `;

  apisData.slice(0, 3).forEach(api => {
    const card = document.createElement("div");
    card.style = `
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      padding:20px;
      border-radius:12px;
      width:120px;
      background:#0d1117;
      box-shadow:0 4px 10px rgba(0,0,0,0.3);
      color:white;
      font-weight:bold;
      font-size:16px;
      text-align:center;
    `;

    const icon = document.createElement("div");
    icon.style.fontSize = "40px";

    const name = document.createElement("div");
    const statusText = document.createElement("div");

    const apiName = api.API || api.api || "Sem nome";
    const apiStatus = api.STATUS || api.status || "OFFLINE";

    icon.textContent = apiStatus.toUpperCase() === "ACTIVE" ? "üü¢" : "üî¥";
    name.textContent = apiName;
    name.style.marginTop = "10px";

    statusText.textContent = apiStatus.toUpperCase() === "ACTIVE" ? "Online" : "Offline";
    statusText.style.marginTop = "5px";
    statusText.style.fontSize = "14px";
    statusText.style.color = apiStatus.toUpperCase() === "ACTIVE" ? "#238636" : "#d73a49";

    card.appendChild(icon);
    card.appendChild(name);
    card.appendChild(statusText);
    dashboard.appendChild(card);
  });

  container.appendChild(dashboard);
}


/* ============================================================
   PACKS
============================================================ */
async function carregarPacks() {
  try {
    const apiUrl = `https://api.github.com/repos/ghosthszz/inf/contents/links.js?ref=${BRANCH_LINKS}`;
    const response = await fetch(apiUrl, {
      headers: { "Authorization": `token ${GITHUB_TOKEN}`, "Accept": "application/vnd.github+json" }
    });
    if (!response.ok) throw new Error(`Erro ao buscar arquivo: ${response.status}`);

    const data = await response.json();
    const scriptContent = atob(data.content);
    const getLinksData = new Function(`${scriptContent}; return linksData;`);
    const linksData = getLinksData();

const container = document.getElementById("packsContainer");
    container.innerHTML = "";

    Object.keys(linksData)
      .sort((a, b) => isNaN(a) ? a.localeCompare(b) : Number(a) - Number(b))
      .forEach(key => {
        const value = linksData[key];
        if (value && typeof value === "string") {
          const temp = document.createElement("div");
          temp.innerHTML = value.trim();
          const li = temp.firstChild;

          li.removeAttribute("id");
          if (!li.classList.contains("file-list")) li.classList.add("file-list");

          container.appendChild(li);
        }
      });

  } catch (err) {
    console.error("Erro ao carregar packs:", err);
  }
}

document.getElementById("addPackButton").addEventListener("click", () => {
  const packsSection = document.getElementById("packsSection");
  const packsContainer = document.getElementById("packsContainer");

  // Esconde os packs existentes
  packsContainer.style.display = "none";

  // Mostra loader enquanto o form √© preparado
  showLoader();

  // Cria o formul√°rio dentro do section
  const form = document.createElement("form");
  form.id = "addPackForm";
  form.innerHTML = `
    <label>N√∫mero do Pack: <input type="number" name="numero" required></label><br>
    <label>Nome do Pack: <input type="text" name="nome" required></label><br>
    <label>Link do Pack: <input type="text" name="link" required></label><br>
    <label>Vids: <input type="number" name="vids" required></label><br>
    <label>Pics: <input type="number" name="pics" required></label><br>
    <label>Foto: <input type="file" name="foto" accept="image/*" required></label><br>
    <button type="submit">Enviar</button>
  `;

  packsSection.appendChild(form);

  // Esconde loader depois de renderizar
  setTimeout(() => hideLoader(), 300);

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    showLoader();

    const formData = new FormData(form);
    const numero = formData.get("numero");
    const nome = formData.get("nome");
    const link = formData.get("link");
    const vids = formData.get("vids");
    const pics = formData.get("pics");
    const fotoFile = formData.get("foto");
    const fotoNome = fotoFile.name;

    try {
      const fotoBase64 = await toBase64(fotoFile);
      await uploadFileToGitHub(REPO_IMGS, BRANCH_IMGS, DIR_IMGS + fotoNome, fotoBase64);

      const novoItem = `"${numero}": '<li><a href="${link}" target="_blank"><img id="lk" src="../../catalogo/${fotoNome}" alt="Imagem"><div class="text-container"><span class="user-name">${nome}</span><span class="user-rating">Arquivos: ${vids} VIDS/${pics} PICS</span></div></a></li>',`;
      await updateLinksFile(REPO_LINKS, BRANCH_LINKS, FILE_LINKS, novoItem);

      alert("‚úÖ Pack adicionado com sucesso!");
      hideLoader();

      // Remove o form e mostra os packs novamente
      form.remove();
      packsContainer.style.display = "block";
      carregarPacks();
    } catch (err) {
      console.error(err);
      alert("‚ùå Erro ao adicionar pack. Veja o console.");
      hideLoader();
    }
  });
});


function toBase64(file){ return new Promise((resolve,reject)=>{ const reader=new FileReader(); reader.readAsDataURL(file); reader.onload=()=>resolve(reader.result.split(",")[1]); reader.onerror=error=>reject(error); }); }

async function uploadFileToGitHub(repo, branch, path, contentBase64){
  const res=await fetch(`https://api.github.com/repos/${repo}/contents/${path}`,{
    method:"PUT", headers:{"Authorization":`token ${GITHUB_TOKEN}`,"Content-Type":"application/json"},
    body:JSON.stringify({message:`Adicionando arquivo ${path}`,content:contentBase64,branch:branch})
  });
  if(!res.ok) throw new Error("Erro ao subir imagem");
}

async function updateLinksFile(repo, branch, path, novoItem){
  const url=`https://api.github.com/repos/${repo}/contents/${path}`;
  const res=await fetch(url,{headers:{"Authorization":`token ${GITHUB_TOKEN}`}});
  const data=await res.json();
  const content=atob(data.content);
  const newContent=content.replace(/(const linksData = {)/, `$1\n   ${novoItem}`);
  const encodedContent=btoa(newContent);
  const updateRes=await fetch(url,{method:"PUT",headers:{"Authorization":`token ${GITHUB_TOKEN}`,"Content-Type":"application/json"},body:JSON.stringify({message:"Atualizando links.js com novo pack",content:encodedContent,sha:data.sha,branch:branch})});
  if(!updateRes.ok) throw new Error("Erro ao atualizar links.js");
}

/* ============================================================
   CONTAGEM DE PACKS
============================================================ */

// Fun√ß√£o para buscar links.js do GitHub
async function buscarLinksJS() {
    const url = `https://api.github.com/repos/ghosthszz/inf/contents/links.js`;

    const response = await fetch(url, {
        headers: {
            Authorization: `token ${GITHUB_TOKEN}`,
            Accept: "application/vnd.github+json"
        }
    });

    if (!response.ok) {
        throw new Error("Erro ao buscar links.js");
    }

    const data = await response.json();
    return atob(data.content); // üî• CONTE√öDO REAL DO ARQUIVO
}

// Fun√ß√£o para contar as <li>
function contarLI(fileContent) {
    const matches = fileContent.match(/<li/g);
    return matches ? matches.length : 0;
}

// Atualizar n√∫mero no HTML usando o ID
function atualizarNumeroLI(qtd) {
    const h2 = document.getElementById("packs");
    if (h2) h2.textContent = qtd;
}


// Fun√ß√£o principal
async function atualizarPacks() {
    try {
        const linksJS = await buscarLinksJS();
        const qtdLI = contarLI(linksJS);
        atualizarNumeroLI(qtdLI);
    } catch (err) {
        console.error(err);
    }
}
async function buscarRndJSON() {
    const url = `https://api.github.com/repos/ghosthszz/inf/contents/rnd.json`;

    const response = await fetch(url, {
        headers: {
            Authorization: `token ${GITHUB_TOKEN}`,
            Accept: "application/vnd.github.v3.raw"
        }
    });

    if (!response.ok) throw new Error("Erro ao buscar rnd.json");

    const text = await response.text();
    return JSON.parse(text);
}

// Atualizar valores no HTML usando os IDs
function atualizarDashboard(data) {
    data.forEach(item => {
        if(item.API === "RENDAS") {
            const el = document.getElementById("renda");
            if(el) el.textContent = item.STATUS;
        } else if(item.API === "COMPRAS") {
            const el = document.getElementById("compras");
            if(el) el.textContent = item.STATUS;
        } else if(item.API === "CLIENTE") {
            const el = document.getElementById("clientes");
            if(el) el.textContent = `${item.STATUS} novos`;
        }
    });
}

// Fun√ß√£o principal
async function atualizarDashboardValores() {
    try {
        const dados = await buscarRndJSON();
        atualizarDashboard(dados);
        console.log("Dashboard atualizado:", dados);
    } catch (err) {
        console.error(err);
    }
}
// Fun√ß√£o gen√©rica para mostrar uma se√ß√£o e esconder as outras
function mostrarSecao(sectionId) {
  sections.forEach(sec => {
    if (sec.id === sectionId) {
      sec.style.display = "block";  // aqui garante que aparece
    } else {
      sec.style.display = "none";
    }
  });
}
async function loadNotes() {
  try {
    const res = await fetch(`https://api.github.com/repos/ghosthszz/inf/contents/comments.json`, {
      headers: { Authorization: `token ${GITHUB_TOKEN}` }
    });
    if (!res.ok) throw new Error("Erro ao carregar notas");
    const data = await res.json();
    const content = atob(data.content);
    const notes = JSON.parse(content);

    const notesList = document.getElementById("notesList");
    notesList.innerHTML = "";
if (notes.length === 0) {
  notesList.innerHTML = `
    <div class="notes-empty sad">
      <span class="empty-icon">üîç</span>
      <p>Nothing here‚Ä¶</p>
      <small>It looks like there‚Äôs nothing here.</div>
  `;
  return;
}



    // Notas do mais novo para o mais antigo
notes.reverse().forEach(note => {
  const li = document.createElement("li");

  let fileHtml = "";
  if (note.file) {
    if (/\.(jpg|jpeg|png|gif)$/i.test(note.file)) {
      fileHtml = `<img src="${note.file}" width="100" height="100" />`;
    } else {
      fileHtml = `<a href="${note.file}" target="_blank">üìé Anexo</a>`;
    }
  }

  li.innerHTML = `
    <span class="note-delete" onclick="deleteNote(${note.id})">‚úï</span>
    <p>${note.text}</p>
    ${fileHtml}
  `;

  notesList.appendChild(li);
});
  } catch (err) {
    console.error(err);
    document.getElementById("notesList").innerText = "Erro ao carregar notas.";
  }
}



async function deleteNote(noteId) {
  if (!confirm("Deseja excluir esta nota?")) return;

  try {
    const res = await fetch(`https://api.github.com/repos/ghosthszz/inf/contents/comments.json`, {
      headers: { Authorization: `token ${GITHUB_TOKEN}` }
    });

    const data = await res.json();
    const sha = data.sha;
    const content = atob(data.content);
    let notes = JSON.parse(content);

    // Remove a nota pelo ID
    notes = notes.filter(note => note.id !== noteId);

    const updateRes = await fetch(`https://api.github.com/repos/ghosthszz/inf/contents/comments.json`, {
      method: "PUT",
      headers: {
        Authorization: `token ${GITHUB_TOKEN}`,
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        message: "Nota removida",
        content: btoa(JSON.stringify(notes, null, 2)),
        sha: sha
      })
    });

    if (updateRes.ok) {
      loadNotes();
    } else {
      alert("Erro ao excluir nota.");
    }

  } catch (err) {
    console.error(err);
    alert("Erro ao excluir nota.");
  }
}


async function uploadFile(file) {
  const reader = new FileReader();
  return new Promise((resolve, reject) => {
    reader.onloadend = async () => {
      try {
        const base64Data = reader.result.split(",")[1];
        const fileName = `${Date.now()}_${file.name.replace(/\s/g, "_")}`;
        const filePath = `frontend/files/${fileName}`; // caminho dentro do reposit√≥rio

        const res = await fetch(`https://api.github.com/repos/ghosthszz/Vendas/contents/${filePath}`, {
          method: "PUT",
          headers: {
            Authorization: `token ${GITHUB_TOKEN}`,
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            message: `Upload file ${fileName}`,
            content: base64Data
          })
        });

        if (!res.ok) throw new Error("Erro ao enviar arquivo");

        // URL p√∫blica da imagem ou arquivo
        const fileUrl = `https://raw.githubusercontent.com/ghosthszz/Vendas/main/${filePath}`;
        resolve(fileUrl);

      } catch (err) {
        reject(err);
      }
    };
    reader.readAsDataURL(file);
  });
}
// Fun√ß√£o para adicionar evento de zoom √†s imagens das notas com toque duplo
function enableImageZoom() {
  const notesImages = document.querySelectorAll("#notesList li img");

  notesImages.forEach(img => {
    let lastTap = 0; // para detectar toque duplo

    const handleZoom = (event) => {
      event.preventDefault();

      const currentTime = new Date().getTime();
      const tapLength = currentTime - lastTap;

      if (tapLength < 300 && tapLength > 0) { // duplo toque detectado
        // Se j√° existe overlay, remove
        const existingOverlay = document.getElementById("imgOverlay");
        if (existingOverlay) {
          existingOverlay.remove();
          return;
        }

        // Cria overlay
        const overlay = document.createElement("div");
        overlay.id = "imgOverlay";
        overlay.style.position = "fixed";
        overlay.style.top = 0;
        overlay.style.left = 0;
        overlay.style.width = "100vw";
        overlay.style.height = "100vh";
        overlay.style.background = "rgba(0,0,0,0.8)";
        overlay.style.display = "flex";
        overlay.style.alignItems = "center";
        overlay.style.justifyContent = "center";
        overlay.style.zIndex = 9999;
        overlay.style.cursor = "pointer";

        // Cria a imagem ampliada
        const zoomImg = document.createElement("img");
        zoomImg.src = img.src;
        zoomImg.style.maxWidth = "90%";
        zoomImg.style.maxHeight = "90%";
        zoomImg.style.borderRadius = "10px";
        zoomImg.style.boxShadow = "0 0 20px rgba(0,0,0,0.5)";

        overlay.appendChild(zoomImg);
        document.body.appendChild(overlay);

        // Fecha overlay ao toque duplo nele tamb√©m
        overlay.addEventListener("dblclick", () => {
          overlay.remove();
        });

        // Para mobile, tamb√©m fecha ao toque √∫nico no overlay
        overlay.addEventListener("click", () => {
          overlay.remove();
        });
      }

      lastTap = currentTime;
    };

    img.addEventListener("dblclick", handleZoom); // desktop
    img.addEventListener("touchend", handleZoom); // mobile
  });
}

// Chame essa fun√ß√£o sempre que carregar notas
loadNotes().then(() => {
  enableImageZoom();
});



async function postNote() {
  const text = document.getElementById("noteText").value.trim();
  const fileInput = document.getElementById("noteFile");
  let fileUrl = null;

  if (!text && !fileInput.files.length) {
    alert("Escreva algo ou anexe um arquivo.");
    return;
  }

  // Upload do arquivo para o repo Vendas, se houver
  if (fileInput.files.length) {
    fileUrl = await uploadFile(fileInput.files[0]); // repo Vendas
  }

  // Buscar JSON atual no repo inf
  const res = await fetch(`https://api.github.com/repos/ghosthszz/inf/contents/comments.json`, {
    headers: { Authorization: `token ${GITHUB_TOKEN}` }
  });
  const data = await res.json();
  const sha = data.sha;
  const content = atob(data.content);
  const notes = JSON.parse(content);

  // Adiciona nova nota
notes.push({
  id: Date.now(),
  text,
  file: fileUrl
});

  // Atualiza comments.json no repo inf
  const updateRes = await fetch(`https://api.github.com/repos/ghosthszz/inf/contents/comments.json`, {
    method: "PUT",
    headers: {
      Authorization: `token ${GITHUB_TOKEN}`,
      "Content-Type": "application/json"
    },
    body: JSON.stringify({
      message: "Nova nota adicionada",
      content: btoa(JSON.stringify(notes, null, 2)),
      sha: sha
    })
  });

  if (updateRes.ok) {
    alert("Nota adicionada!");
    document.getElementById("noteText").value = "";
    fileInput.value = "";
    loadNotes();
  } else {
    alert("Erro ao postar nota.");
  }
}
const CLIENT_ID = "309241399664-cgb2e8fq7pg0tbuds2dqrnr1uc10tle5.apps.googleusercontent.com";
const SCOPES = "https://www.googleapis.com/auth/gmail.readonly https://www.googleapis.com/auth/gmail.send";

let tokenClient;
let accessToken;

window.onload = () => {
  tokenClient = google.accounts.oauth2.initTokenClient({
      client_id: CLIENT_ID,
          scope: SCOPES,
              callback: (resp) => {
                    if (resp.error) { alert("Erro ao obter token."); return; }
                          accessToken = resp.access_token;
                                localStorage.setItem("gmailAccessToken", accessToken);
                                      listarEmails();
                                          },
                                            });

                                              document.getElementById("login").onclick = () => {
                                                  tokenClient.requestAccessToken({ prompt: "consent" });
                                                    };

                                                      const savedToken = localStorage.getItem("gmailAccessToken");
                                                        if (savedToken) {
                                                            accessToken = savedToken;
                                                                fetch("https://gmail.googleapis.com/gmail/v1/users/me/profile", {
                                                                      headers: { Authorization: "Bearer " + accessToken }
                                                                          }).then(res => {
                                                                                if (res.status === 401) tokenClient.requestAccessToken({ prompt: "consent" });
                                                                                      else listarEmails();
                                                                                          });
                                                                                            }
                                                                                            };

                                                                                            // ===== Lista √∫ltimos 15 emails =====
                                                                                            async function listarEmails() {
                                                                                              const res = await fetch("https://gmail.googleapis.com/gmail/v1/users/me/messages?maxResults=15", {
                                                                                                  headers: { Authorization: "Bearer " + accessToken }
                                                                                                    });
                                                                                                      const data = await res.json();

                                                                                                        let html = "<ul id='emailsList'>";
                                                                                                          for (const m of data.messages || []) {
                                                                                                              const r = await fetch(
                                                                                                                    `https://gmail.googleapis.com/gmail/v1/users/me/messages/${m.id}?format=metadata&metadataHeaders=Subject&metadataHeaders=From`,
                                                                                                                          { headers: { Authorization: "Bearer " + accessToken } }
                                                                                                                              );
                                                                                                                                  const msg = await r.json();
                                                                                                                                      const subject = msg.payload.headers.find(h => h.name==="Subject")?.value || "(sem assunto)";
                                                                                                                                          const from = msg.payload.headers.find(h => h.name==="From")?.value || "";

                                                                                                                                              html += `<li><b>${subject}</b><p>${from}</p><button onclick="abrirEmail('${m.id}')">Abrir</button></li>`;
                                                                                                                                                }
                                                                                                                                                  html += "</ul>";

                                                                                                                                                    document.getElementById("conteudo").innerHTML = html;
                                                                                                                                                    }

// ===== Abrir email =====
async function abrirEmail(id) {
  const r = await fetch(
    `https://gmail.googleapis.com/gmail/v1/users/me/messages/${id}?format=full`,
    { headers: { Authorization: "Bearer " + accessToken } }
  );
  const msg = await r.json();

  const headers = msg.payload.headers;
  const subject = headers.find(h => h.name === "Subject")?.value || "";
  const from = headers.find(h => h.name === "From")?.value || "";

  let body = "(sem corpo)";
  function findPlain(parts) {
    if (!parts) return null;
    for (const p of parts) {
      if (p.mimeType === "text/plain" && p.body && p.body.data) return p.body.data;
      if (p.parts) {
        const r = findPlain(p.parts);
        if (r) return r;
      }
    }
    return null;
  }
  const raw = findPlain([msg.payload]) || msg.payload.body?.data;
  if (raw) body = decodeURIComponent(escape(atob(raw.replace(/-/g, "+").replace(/_/g, "/"))));

  document.getElementById("conteudo").innerHTML = `
    <h2>${subject}</h2>
    <p><b>De:</b> ${from}</p>
    <pre>${body}</pre>
    <h3>Responder</h3>
    <form id="respostaForm">
      <label>Tema do Assunto:</label><br>
      <input type="text" name="tema" value="Re: ${subject}" style="width: 100%; margin-bottom: 10px;"><br>
      <textarea name="mensagem" rows="5" placeholder="Digite sua resposta aqui..." style="width:100%"></textarea><br>
      <button type="submit">Enviar</button>
      <button type="button" id="previewBtn">Pr√©-visualizar</button>
    </form>
    <div id="previewContainer" style="margin-top:20px;"></div>
    <p><button onclick="listarEmails()">Voltar √† inbox</button></p>
  `;

  // Evento de pr√©-visualiza√ß√£o
  const form = document.getElementById("respostaForm");
  document.getElementById("previewBtn").onclick = () => {
    const tema = form.tema.value.trim();
    const mensagem = form.mensagem.value.trim();
    if (!mensagem) return alert("Digite uma mensagem antes de pr√©-visualizar.");

    const templateHTML = `
<div style="font-family: system-ui, sans-serif, Arial; font-size: 14px; color: #333; padding: 20px 14px; background-color: #f5f5f5;">
  <div style="max-width: 600px; margin: auto; background-color: #fff;">
    <div style="text-align: center; background-color: #333; padding: 14px;">
      <img style="max-width: 60px; height: auto;" src="http://ghosthszz.github.io/Vendas/frontend/icons/llsecrets_sf.png" alt="Precisa de ajuda? Clique aqui para suporte">
    </div>
    <div style="padding: 14px;">
      <h1 style="font-size: 22px; margin-bottom: 26px;">${tema}</h1>
      <p>${mensagem}</p>
      <p>Esse √© um email autom√°tico, caso ocorra um problema entre em contato em labellascrets@gmail.com</p>
      <p>Atenciosamente,<br>Equipe La Bella Secrets</p>
    </div>
  </div>
</div>`;

    document.getElementById("previewContainer").innerHTML = `<h3>Pr√©-visualiza√ß√£o:</h3>${templateHTML}`;
  };

  // Evento de envio
  form.onsubmit = e => enviarRespostaComTemplate(e, from);
}

// ===== Enviar resposta usando template HTML =====
async function enviarRespostaComTemplate(e, to) {
  e.preventDefault();
  const form = e.target;
  const tema = form.tema.value.trim();
  const mensagem = form.mensagem.value.trim();
  if (!mensagem) return alert("Digite uma mensagem antes de enviar.");

  const templateHTML = `
<div style="font-family: system-ui, sans-serif, Arial; font-size: 14px; color: #333; padding: 20px 14px; background-color: #f5f5f5;">
  <div style="max-width: 600px; margin: auto; background-color: #fff;">
    <div style="text-align: center; background-color: #333; padding: 14px;">
      <img style="max-width: 60px; height: auto;" src="http://ghosthszz.github.io/Vendas/frontend/icons/llsecrets_sf.png" alt="Precisa de ajuda? Clique aqui para suporte">
    </div>
    <div style="padding: 14px;">
      <h1 style="font-size: 22px; margin-bottom: 26px;">${tema}</h1>
      <p>${mensagem}</p>
      <p>Esse √© um email autom√°tico, caso ocorra um problema entre em contato em labellascrets@gmail.com</p>
      <p>Atenciosamente,<br>Equipe La Bella Secrets</p>
    </div>
  </div>
</div>`;

  const raw = [
    `From: labelascrets@gmail.com`,
    `To: ${to}`,
    `Subject: ${tema}`,
    `MIME-Version: 1.0`,
    `Content-Type: text/html; charset="UTF-8"`,
    ``,
    templateHTML
  ].join("\r\n");

  const encoded = btoa(unescape(encodeURIComponent(raw)))
    .replace(/\+/g, "-").replace(/\//g, "_").replace(/=+$/, "");

  await fetch("https://gmail.googleapis.com/gmail/v1/users/me/messages/send", {
    method: "POST",
    headers: {
      Authorization: "Bearer " + accessToken,
      "Content-Type": "application/json"
    },
    body: JSON.stringify({ raw: encoded })
  });

  alert("Resposta enviada com template!");
  listarEmails();
}
const URL_HTML = "https://ghosthszz.github.io/links/assets/js/api.html";

async function carregarAPIs() {
  const iframe = document.getElementById("paginaAPIs");

  iframe.src = URL_HTML; // carrega a p√°gina inteira e funcional
}

function getCookie(name) {
    const cookies = document.cookie.split("; ");
    for (let c of cookies) {
        const [key, value] = c.split("=");
        if (key === name) {
            try {
                const decoded = atob(decodeURIComponent(value));

                return decoded.startsWith("user_")
                    ? decoded.replace(/^user_/, "")
                    : decoded;

            } catch (e) {
                console.error("Cookie n√£o est√° em Base64 v√°lido");
                return null;
            }
        }
    }
    return null;
}


const fileInput = document.getElementById("noteFile");
const fileNameSpan = document.getElementById("fileName");
const fileWrapper = document.getElementById("fileWrapper");
const removeFileBtn = document.getElementById("removeFile");

fileInput.addEventListener("change", () => {
  if (fileInput.files.length > 0) {
    fileNameSpan.textContent = fileInput.files[0].name;
    fileNameSpan.classList.add("active");
    fileWrapper.style.display = "flex";
  }
});

// Remover anexo
removeFileBtn.addEventListener("click", () => {
  fileInput.value = "";
  fileNameSpan.textContent = "";
  fileNameSpan.classList.remove("active");
  fileWrapper.style.display = "none";
});


function atualizarAdminNome() {
    const nome = getCookie("id");
    const h3 = document.getElementById("adminTitle");

    if (!h3) return;

    h3.textContent = nome ? `Admin ${nome}` : "Admin";
}


  document.getElementById("postNoteBtn").addEventListener("click", postNote);

  loadNotes();  

// Chamar a fun√ß√£o
atualizarDashboardValores();
// Chamar a fun√ß√£o
atualizarPacks();
atualizarAdminNome();


</script>
</body>
</html>
